var g_fMobileWidth=800,g_fTabletWidth=1200,g_fScreenWidth=screen.width;g_fScreenWidth<200&&(g_fScreenWidth=1024);var g_fScreenHeight=screen.height;g_fScreenHeight<200&&(g_fScreenHeight=768);var g_currentCodeMirror,g_elModal,g_pModalEditor,g_funcClose_ModalEditor,g_elModal_ContentDiv,g_elContent,g_bMobile=!1,g_bTablet=!1,g_bDesktop=!1,g_fFontSize=10,g_fFontSize=screen.width<g_fMobileWidth?(g_bMobile=!0,16):screen.width>=g_fMobileWidth&&screen.width<g_fTabletWidth?(g_bTablet=!0,16):(g_bDesktop=!0,22),g_sData_skipCss="data-skip-css",g_sData_findable="data-findable",g_sData_display="data-display",g_sData_type="data-type",g_sData_html="data-html",g_sID_content="content",g_nLogLevel=0;function $b(){return block.apply(null,arguments)}function $i(){return item.apply(null,arguments)}function $s(){return space.apply(null,arguments)}function $(){var e=div();return e.setEl.apply(e,arguments),g_bAutoBlockAppend&&e.toBody(),e}function _(){var e=elementFromString.apply(null,[arguments[0],!1]),t=new el(e[1]),n=1;1==e[0]&&(n=0);var o=[];for(i=n;i<arguments.length;i++)o.push(arguments[i]);return t.setEl.apply(t,o),g_bAutoBlockAppend&&t.toBody(),t}function elementFromString(e,t){isUndefined(t)&&(t=!1);var n,i,o=!1;return 0==isUndefined(e)&&(isNumber(e)?(i=document.createElement("div"),o=!0,t&&i.size(e)):isString(e)?e.includes("<")?((n=document.createElement("div")).innerHTML=e,i=n.firstChild):isIdString(e)||isClassString(e)?(e=e.trim(),i=id(substring(1,e.length-1))):isPercent(e)||isPx(e)?(i=document.createElement("div"),o=!0,t&&i.size(e)):i=document.createElement(e):isElement(e)?i=e:isEl(e)?i=e.clone():(i=document.createElement("div"),o=!0,t&&css(i,e))),isUndefined(i)?[o,document.createElement("div")]:[o,i]}var g_mainBlock=null,g_blocks=[],g_items=[],g_HSpaces={},g_VSpaces={},g_bAutoBlockColor=!0,g_bAutoBlockAppend=!0,g_nRandomColorIndex_green=0,g_nRandomColorIndex_blue=0,g_nRandomColorIndex_red=0,g_nRandomColorIndex_gray=0,g_randomColors={green:["lightgreen","LimeGreen","Aquamarine","Chartreuse","DarkSeaGreen","ForestGreen","green","greenyellow","LawnGreen","lime","limegreen"],blue:["dodgerblue","darkTurquoise","CadetBlue","skyblue","CornflowerBlue ","mediumTurquoise","lightblue","DeepSkyBlue"],red:["Coral","HotPink","LightCoral","LightSalmon","orange","SandyBrown"],gray:["#cacaca","#d2d2d2","#e3e3e3","#dadada"]},g_randomColorIndexes={green:0,blue:0,red:0,gray:0};function randomColor(e){return g_randomColorIndexes[e]>=g_randomColors[e].length&&(g_randomColorIndexes[e]=0),g_randomColors[e][g_randomColorIndexes[e]++]}function setRandomBgColor(e,t){g_bAutoBlockColor&&0==e.has("background-color")&&e.bgColor(randomColor(t))}function block(){var e=div();0<arguments.length&&e.setEl.apply(e,arguments);var t,n,i,o=null,s=g_blocks.length-1;return 0<=s&&0<g_items[s].length&&(t=!1,n=g_items[s],has(g_VSpaces,s)&&has(g_VSpaces[s],n.length)&&(t=!0),t&&null!=(o=lastSpace(!0,!0))&&(o.has("width")&&o.height(o.css("width")),o.removeCss("width"),o.remove(),has(g_HSpaces,1+s)?(i=g_HSpaces[1+s]).push(o):(i=[o],g_HSpaces[1+s]=i),null==g_mainBlock?g_bAutoBlockAppend&&o.toBody():g_mainBlock.append(o))),setRandomBgColor(e,"blue"),g_blocks.push(e),g_items.push([]),null==g_mainBlock?g_bAutoBlockAppend&&e.toBody():g_mainBlock.append(e),e}function item(){var e=g_blocks.length-1;e<0&&(e=0),0==g_blocks.length&&block();var t=div();0<arguments.length&&t.setEl.apply(t,arguments);var n,i=null;return g_items[e].length<1&&has(g_HSpaces,e+1)&&null!=(i=lastSpace(!0,!1))&&(i.has("height")&&i.width(i.css("height")),i.height("100%"),i.inlineBlock(),i.remove(),n={0:[i]},g_VSpaces[e]=n,g_blocks[e].append(i)),setRandomBgColor(t,"red"),t.css({display:"inline-block"}),g_blocks[e].append(t),g_items[e].push(t),t}function getBlock(e){if(isNumber(e))return 0<e&&e<g_blocks.length?g_blocks[e]:null}function getItem(e,t,n){if(isNumber(e))return 0<=e&&e<g_blocks.length?(0==is(t)&&(t=g_items[e].length-1),t<0||t>=g_items[e].length?null:g_items[e][t]):null}function lastSpace(e,t){var n=lastKey(g_HSpaces),i=lastKey(g_VSpaces);if(null==n&&null==i)return null;if(null!=n&&null!=i&&n-1<=i?!0:null==n?!0:null==i?!1:!1){var o=g_VSpaces[i],i=lastKey(o),s=(r=o[i])[r.length-1];return e?1<r.length?(r.pop(),0==r.length&&delete o[i],s.removeCss("height"),s.removeCss("display"),s):null:s}var r,s=(r=g_HSpaces[n])[r.length-1];return e?0<r.length?(r.pop(),0==r.length&&delete g_HSpaces[n],s.removeCss("width"),s):null:s}function getSpace(e,t,n,i){if(0==isNumber(e)){if(is(e))return space(e);e=0}var o=3;if(1==(o=0==is(t)?3:isNumber(t)?2:null==t&&0==is(n)?1:3)){if(has(g_HSpaces,e))return(s=g_HSpaces[e])[s.length-1]}else{if(2!=o)return space(e,t,n,i);if(has(g_VSpaces,e)){var s,e=g_VSpaces[e];if(has(e,t))return(s=e[t])[s.length-1]}}}function space(){var e=!1,t=div();0<arguments.length&&t.setEl.apply(t,arguments);var n,i,o=g_blocks.length-1;return 0<=o&&(e=0<g_items[o].length),setSpaceCss(t,!e),e?(n=g_items[o].length,has(g_VSpaces,o)?has(i=g_VSpaces[o],n)?i[n].push(t):i[n]=[t]:(i={},(g_VSpaces[o]=i)[n]=[t])):has(g_HSpaces,1+o)?g_HSpaces[1+o].push(t):g_HSpaces[1+o]=[t],e?g_blocks[g_blocks.length-1].append(t):null==g_mainBlock?g_bAutoBlockAppend&&t.toBody():g_mainBlock.append(t),t}function setSpaceCss(e,t){var n={};t?(0==e.has("height")&&e.has("width")&&(n.height=e.css("width")),e.removeCss("width")):(0==e.has("width")&&e.has("height")&&(n.width=e.css("height")),n.height="1px",n.display="inline-block"),g_bAutoBlockColor&&(n["background-color"]=randomColor("gray")),e.css(n)}function mainBlock(){var e=div();e.setEl.apply(e,arguments),null!=g_mainBlock&&removeBlocks(),g_mainBlock=e,g_bAutoBlockColor&&0==e.has("background-color")&&e.bgColor("yellow");e=g_blocks.length-1;return g_blocks.forEach(function(e,t){has(g_HSpaces,t)&&g_HSpaces[t].forEach(function(e,t){e.remove(),g_mainBlock.append(e)}),e.remove(),g_mainBlock.append(e)}),has(g_HSpaces,1+e)&&g_HSpaces[1+e].forEach(function(e,t){e.remove(),g_mainBlock.append(e)}),g_bAutoBlockAppend&&g_mainBlock.toBody(),g_mainBlock}function autoColor(e){is(e)&&(g_bAutoBlockColor=e)}function autoAppend(e){is(e)&&(g_bAutoBlockAppend=e)}function eachBlock(n,e,t,i,o){if(0==is(t)&&(t=!0),0==is(e)&&(e=!0),0==is(i)&&(i=!0),0==is(o)&&(o=!0),e&&g_blocks.forEach(function(e,t){n(e,t)}),i)for(key in g_HSpaces)g_HSpaces[key].forEach(function(e,t){n(e,t)});if(o)for(key in g_VSpaces)for(subKey in g_VSpaces[key])g_VSpaces[key][subKey].forEach(function(e,t){n(e,t)});t&&eachItem(n)}function eachItem(i,e){is(e)?g_items[e].forEach(function(e,t){i(e,index,t)}):g_items.forEach(function(e,n){e.forEach(function(e,t){i(e,n,t)})})}function eachBlockExcept(t,i,e,n,o,s,r){var l=!1;eachBlock(function(n,e){l=!1,is(r)&&r.forEach(function(e,t){e==n&&(l=!0)}),0==l&&n.css(t,i)},e,n,o,s)}function cssBlock(e,t,n){eachBlockExcept(e,t,!0,!1,!1,!1,n)}function cssItem(e,t,n){eachBlockExcept(e,t,!1,!0,!1,!1,n)}function cssSpace(e,t,n){eachBlockExcept(e,t,!1,!1,!0,!0,n)}function cssHSpace(e,t,n){eachBlockExcept(e,t,!1,!1,!0,!1,n)}function cssVSpace(e,t,n){eachBlockExcept(e,t,!1,!1,!1,!0,n)}function cssAll(e,t,n){eachBlockExcept(e,t,!0,!0,!1,!1,n)}function initBlocks(){g_mainBlock=null,g_blocks=[],g_HSpaces={},g_VSpaces={},g_items=[]}function removeBlocks(){if(null==g_mainBlock){for(key in g_blocks.forEach(function(e,t){e.remove()}),g_HSpaces)g_HSpaces[key].forEach(function(e,t){e.remove()});for(key in g_VSpaces)for(subKey in g_VSpaces[key])g_VSpaces[key][subKey].forEach(function(e,t){e.remove()})}else g_mainBlock.remove();g_mainBlock=null,g_blocks=[],g_HSpaces={},g_VSpaces={},g_items=[]}function Struct(t){var n=(t=t.split(" ")).length;return function(){for(var e=0;e<n;e++)this[t[e]]=arguments[e]}}var Rect_=Struct("x y width height"),Size_=Struct("width height"),Point_=Struct("x y");function size(e,t){return new Size_(e,t)}function rt(e,t,n,i){return 0==is(e)&&(i=n=t=e=0),0==is(t)&&(i=n=e,e=t=0),0==is(n)&&(n=e,i=t,t=e=0),0==is(i)&&(i=n),new Rect_(e,t,n,i)}function pt(e,t){return 0==is(t)&&(t=e),new Point_(e,t)}function moveRt(e,t,n){return 0==is(n)&&(n=t),rt(e.x+t,e.y+n,e.width,e.height)}function centerRt(e,t,n){return 0==is(n)&&(n=t),rt(t-.5*e.width,n-.5*e.height,e.width,e.height)}function paddingRt(e,t,n){return 0==is(n)&&(n=t),rt(e.x+t,e.y+n,e.width-2*t,e.height-2*n)}function resizeRt(e,t,n,i){return 0==is(n)&&(n=t),is(i)&&i?rt(e.x+t,e.y+n,e.width-t,e.height-n):rt(e.x,e.y,e.width-t,e.height-n)}function id(e){return document.getElementById(e)}function el(){if(this.parent=null,this.children=[],this.element=null,this.dicHover={},this.dicClicked={},this.dicNormal={},this.dicSelected={},this.bHovered=!1,this.bSelected=!1,this.bClicked=!1,this.funcCssMouseOver=null,this.funcCssMouseOut=null,this.funcCssClick=null,this.funcCssClick_start=null,this.funcCssClick_end=null,this.funcClick=null,this.funcMouseOver=null,this.funcMouseOut=null,arguments.length<1)return this.element=document.createElement("div"),this;var e=elementFromString.apply(null,[arguments[0],!1]);this.element=e[1];var t=1;1==e[0]&&(t=0);var n=[];for(i=t;i<arguments.length;i++)n.push(arguments[i]);return 0<n.length&&this.setEl.apply(this,n),this}function addCSS(e){var t=document.createElement("style");t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)}function css(e,t){if(void 0!==t&&null!=t)for(var n in t)e.style[n]=t[n]}function toBody(){for(i=0;i<arguments.length;i++)document.body.appendChild(arguments[i])}function toContent(){for(i=0;i<arguments.length;i++)id(g_sID_content).appendChild(arguments[i])}function getContent(){return id(g_sID_content)}function attr(e,t){if(void 0!==t&&null!=t)for(var n in t)e.setAttribute(n,t[n])}function replaceAttr(e,t){if(void 0!==t&&null!=t)for(var n in t)e.hasAttribute(n)&&e.setAttribute(n,t[n])}function each(e,t,n){for(var i=is(n)?e.querySelectorAll(n):e.getElementsByTagName("*"),o=0;o<i.length;o++)each(i[o],t,n),t(i[o],o)}function svgcssOnReady(i,o){ready(function(){var e=i.getSVGDocument();if(e)for(var t=e.getElementsByTagName("path"),n=0;n<t.length;n++)replaceAttr(t[n],o)})}function svgcssOnReadyById(t,n,i){ready(function(){var e=t.getSVGDocument();e&&(e=e.getElementsById(n),svgElements&&css(e,i))})}function svgcssOnReadyByClass(n,o,s){ready(function(){var e=n.getSVGDocument();if(e){var t=e.getElementsByClassName(o);if(t)for(i=0;i<t.length;i++)css(t[i],s)}})}function div(){var e=new el("div");return e.setEl.apply(e,arguments),e}function canvas(){var e=new el("canvas");return e.setEl.apply(e,arguments),e}function meta(){var e=new el("meta");return e.setEl.apply(e,arguments),e}function link(){var e=new el("link");return e.setEl.apply(e,arguments),e}function title(){var e=new el("title");return e.setEl.apply(e,arguments),e}function pre(){var e=new el("pre");return e.setEl.apply(e,arguments),e}function textarea(){var e=new el("textarea");return e.setEl.apply(e,arguments),e}function iframe(){var e=new el("iframe");return e.setEl.apply(e,arguments),e}function italic(){var e=new el("i");return e.setEl.apply(e,arguments),e}function p(){var e=new el("p");return e.setEl.apply(e,arguments),e}function u(){var e=new el("u");return e.setEl.apply(e,arguments),e}function hr(){var e=new el("hr");return e.setEl.apply(e,arguments),e}function span(){var e=new el("span");return e.setEl.apply(e,arguments),e}function label(){var e=new el("label");return e.setEl.apply(e,arguments),e}function form(){var e=new el("form");return e.setEl.apply(e,arguments),e}function ul(){var e=new el("ul");return e.setEl.apply(e,arguments),e}function li(){var e=new el("li");return e.setEl.apply(e,arguments),e}function input(){var e=new el("input");return e.setEl.apply(e,arguments),e}function select(){var e=new el("select");return e.setEl.apply(e,arguments),e}function option(){var e=new el("option");return e.setEl.apply(e,arguments),e}function a(e){var t=new el("a"),n=[];for(i=1;i<arguments.length;i++)n.push(arguments[i]);return t.setEl.apply(t,n),t.attr("href",e),t}function object(e,t){var n=new el("object");return n.setEl.apply(n,[e,{type:"image/svg+xml",data:t}]),n}function svgFromFile(e,t,n,i){var o=new el("object");return o.setEl.apply(o,[n,{type:"image/svg+xml",data:i,width:e,height:t}]),o}function img(e){var t=new el("img"),n=[];for(i=1;i<arguments.length;i++)n.push(arguments[i]);return 0<n.length&&t.setEl.apply(t,n),t.attr("src",e),t}function parseJson(e){try{var t=JSON.parse(e);if(t&&"object"==typeof t)return t}catch(e){}return null}function addAjax(e){g_arrAjax.push(e)}function isAjaxRunning(){var n=!1;return g_arrAjax.forEach(function(e,t){1==e[0]&&(n=!0)}),n}function runAjax(){0==isAjaxRunning()&&g_arrAjax.forEach(function(e,t){0==e[0]&&(e[0]=!0,e[1]())})}el.prototype.setEl=function(){var e,t,n,o,s;for(i=0;i<arguments.length;i++)is(arguments[i])&&(isEl(arguments[i])?this.element=arguments[i].element:isElement(arguments[i])?this.element=arguments[i]:isNumber(arguments[i])?isUndefined(t)?t=arguments[i]:n=arguments[i]:isPercent(arguments[i])?(n1Percent2Px=1,isUndefined(t)?t=arguments[i]:n=arguments[i]):isPx(arguments[i])?(n1Percent2Px=2,isUndefined(t)?t=arguments[i]:n=arguments[i]):isString(arguments[i])?e=arguments[i]:!isUndefined(o)||has(arguments[i],"id")||has(arguments[i],"class")?s=arguments[i]:o=arguments[i]);0==isUndefined(t)&&(isUndefined(n)?this.height(t):this.size(t,n)),0==isUndefined(e)&&this.html(e),0==isUndefined(o)&&this.css(o),0==isUndefined(s)&&this.attr(s)},el.prototype.class=function(e){return isUndefined(e)?this.attr("class"):(this.attr("class",e),this)},el.prototype.id=function(e){return isUndefined(e)?this.attr("id"):(this.attr("id",e),this)},el.prototype.type=function(e){return isUndefined(e)?this.attr("type"):(this.attr("type",e),this)},el.prototype.name=function(e){return isUndefined(e)?this.attr("name"):(this.attr("name",e),this)},el.prototype.placeHolder=function(e){return isUndefined(e)?this.attr("placeholder"):(this.attr("placeholder",e),this)},el.prototype.required=function(e){return isUndefined(e)&&(e=!0),e?(this.attr("required",""),this.element.required=!0):(this.removeAttr("required",""),this.element.required=!1),this},el.prototype.element=function(){return this.element},el.prototype.contains=function(e){return this.element.contains(e)},el.prototype.onclick=function(e){var t=this;return t.funcCssClick!=e&&(this.funcClick=e),this.element.onclick=function(e){is(t.funcCssClick)&&t.funcCssClick(e),is(t.funcClick)&&t.funcClick(e)},this},el.prototype.onhover=function(t){return this.onmouseover(function(e){t(!0)}),this.onmouseout(function(e){t(!1)}),this},el.prototype.onmouseover=function(e){var t=this;return t.funcCssMouseOver!=e&&(this.funcMouseOver=e),this.element.onmouseover=function(e){is(t.funcCssMouseOver)&&t.funcCssMouseOver(),is(t.funcMouseOver)&&t.funcMouseOver()},this},el.prototype.onmouseout=function(e){var t=this;return t.funcCssMouseOut!=e&&(this.funcMouseOut=e),this.element.onmouseout=function(e){is(t.funcCssMouseOut)&&t.funcCssMouseOut(),is(t.funcMouseOut)&&t.funcMouseOut()},this},el.prototype.append=function(){for(var e=0;e<arguments.length;e++){var t=arguments[e];isEl(t)?(this.element.append(t.element),this.children.push(t),t.parent=this):this.element.append(t)}return this},el.prototype.appendChild=function(){for(i=0;i<arguments.length;i++){var e=arguments[i];isEl(e)?(this.element.append(e.element),this.children.push(e),e.parent=this):this.element.append(e)}return this},el.prototype.toBody=function(){return el.parent=document.body,document.body.appendChild(this.element),this},el.prototype.toHead=function(){var e=document.getElementsByTagName("head")[0];return(el.parent=e).appendChild(this.element),this},el.prototype.clone=function(){return new el(this.element.cloneNode(!0))},el.prototype.each=function(n){is(this.children)&&this.children.forEach(function(e,t){is(e)&&(e.each(n),n(e,t))})},el.prototype.draggable=function(e,n,i,o,t){var s,r,l=0,a=0;0==is(e)&&(e=this);var c=this;return addMouseEvent(e.element,function(e,t){l=e,a=t,is(i)&&i(e,t)},function(e,t){s=c.top()-(a-t),r=c.left()-(l-e),l=e,a=t,!is(n)||is(t=n())&&(s=clamp(t.y,s,t.height),r=clamp(t.x,r,t.width)),c.left(r),c.top(s),is(o)&&o(r,s)},function(){is(t)&&t(r,s)}),this},el.prototype.findable=function(e,t){return isUndefined(e)&&(e=!0),isUndefined(t)&&(t=!1),e?(this.attr(g_sData_findable,"myColor"),t&&this.each(function(e,t){e.attr(g_sData_findable,"myColor")})):(this.removeAttr(g_sData_findable),t&&this.each(function(e,t){e.removeAttr(g_sData_findable)})),this},el.prototype.find=function(n){return this.each(function(e,t){e.hasAttr(g_sData_findable)&&n(e,t)}),this},el.prototype.replaceWith=function(e){is(this.element.parentNode)&&this.element.parentNode.replaceChild(e.element,this.element)},el.prototype.bgColor=function(e){return is(e)?(this.element.style.background=e,this):this.element.style.background},el.prototype.color=function(e){return is(e)?(this.element.style.color=e,this):this.element.style.color},el.prototype.attr=function(e,t){if(is(e))if(isString(e)){if(!is(t))return this.element.getAttribute(e);this.element.setAttribute(e,t)}else for(var n in e)this.element.setAttribute(n,e[n]);return this},el.prototype.removeAttr=function(e){is(e)&&(isString(e)?this.element.style.removeProperty(e):(this.element,e.forEach(function(e){element.removeAttribute(e)})))},el.prototype.removeCss=function(e){var t;is(e)&&(isString(e)?this.element.style.removeProperty(e):(t=this.element,e.forEach(function(e){t.style.removeProperty(e)})))},el.prototype.has=function(e){e=this.css(e);return!!(is(e)&&0<e.length)},el.prototype.hasAttr=function(e){e=this.attr(e);return!!(is(e)&&0<e.length)},el.prototype.skipCss=function(e,t){return isUndefined(e)&&(e=!0),isUndefined(t)&&(t=!1),e?(this.attr(g_sData_skipCss,"myColor"),t&&this.each(function(e,t){e.attr(g_sData_skipCss,"myColor")})):(this.removeAttr(g_sData_skipCss),t&&this.each(function(e,t){e.removeAttr(g_sData_skipCss)})),this},el.prototype.vAlign=function(e){return is(attributes)&&isString(attributes)&&this.css("vertical-align",e),this},el.prototype.vAlignTop=function(){return this.css("vertical-align","top"),this},el.prototype.vAlignMiddle=function(){return this.css("vertical-align","middle"),this},el.prototype.vAlignBottom=function(){return this.css("vertical-align","bottom"),this},el.prototype.hAlign=function(e){return this.textAlign(e),this},el.prototype.hAlignLeft=function(){return this.textAlign("left"),this},el.prototype.hAlignRight=function(){return this.textAlign("right"),this},el.prototype.hAlignCenter=function(){return this.textAlign("center"),this},el.prototype.css=function(e,t){if(is(e))if(isString(e)){if(!is(t))return this.element.style[e];this.element.style[e]=t}else for(var n in e)this.element.style[n]=e[n];return this},el.prototype.normal=function(n,i,o){return 0==this.hasAttr(g_sData_skipCss)&&(isString(n)?this.dicNormal[n]=i:(this.dicNormal=Object.assign({},n),o=i),0==isUndefined(o)&&(this_.dicNormal=concat(this_.dicNormal,getTransitionDurationCss(o))),this.css(this.dicNormal)),this.each(function(e,t){0==e.hasAttr(g_sData_skipCss)&&e.normal(n,i,o)}),this},el.prototype.select=function(e){if(isUndefined(e)&&(e=!0),e)0==this.bClicked&&this.css(this.dicSelected),this.each(function(e,t){0==e.bClicked&&e.css(e.dicSelected),e.bSelected=!0}),this.bSelected=!0;else{if(0==this.bClicked)for(sName in this.dicSelected)has(this.dicNormal,sName)?this.css(sName,this.dicNormal[sName]):this.removeCss(sName);this.each(function(e,t){if(0==e.bClicked)for(sName in e.dicSelected)has(e.dicNormal,sName)?e.css(sName,e.dicNormal[sName]):e.removeCss(sName);e.bSelected=!1}),this.bSelected=!1}return this},el.prototype.selected=function(n,i,o){if(0==this.hasAttr(g_sData_skipCss))for(sName in isString(n)?this.dicSelected[n]=i:(this.dicSelected=Object.assign({},n),o=i),0==isUndefined(o)&&(this.dicSelected=concat(this.dicSelected,getTransitionDurationCss(o))),this.dicSelected)this.has(sName)&&(this.dicNormal[sName]=this.css(sName));return this.each(function(e,t){0==e.hasAttr(g_sData_skipCss)&&e.selected(n,i,o)}),this},el.prototype.hovered=function(n,i,o){var e=this;if(0==this.hasAttr(g_sData_skipCss))for(sName in isString(n)?this.dicHover[n]=i:(this.dicHover=Object.assign({},n),o=i),0==isUndefined(o)&&(e.dicHover=concat(e.dicHover,getTransitionDurationCss(o))),e.dicHover)e.has(sName)&&(e.dicNormal[sName]=e.css(sName));return this.each(function(e,t){0==e.hasAttr(g_sData_skipCss)&&e.hoveredVars(n,i,o)}),this.funcCssMouseOver=function(n){if(this.bHovered=!0,0==this.bSelected)for(sName in e.dicHover)e.css(sName,e.dicHover[sName]);e.each(function(e,t){is(e.funcCssMouseOver)&&e.funcCssMouseOver(n)}),e.css("cursor","pointer")},this.funcCssMouseOut=function(n){if(0==this.bSelected)for(sName in e.dicHover)has(e.dicNormal,sName)?e.css(sName,e.dicNormal[sName]):e.removeCss(sName);e.each(function(e,t){is(e.funcCssMouseOut)&&e.funcCssMouseOut(n)}),this.bHovered=!1,e.css("cursor","auto")},this.onmouseover(this.funcCssMouseOver),this.onmouseout(this.funcCssMouseOut),this},el.prototype.hoveredVars=function(e,t,n){var i=this;for(sName in isString(e)?this.dicHover[e]=t:(this.dicHover=concat(this.dicHover,e),n=t),0==isUndefined(n)&&(i.dicHover=concat(i.dicHover,getTransitionDurationCss(n))),i.dicHover)i.has(sName)&&(i.dicNormal[sName]=i.css(sName));return this.funcCssMouseOver=function(e){if(i.bHovered=!0,0==i.bSelected)for(sName in i.dicHover)i.css(sName,i.dicHover[sName])},this.funcCssMouseOut=function(e){if(0==i.bSelected)for(sName in i.dicHover)has(i.dicNormal,sName)?i.css(sName,i.dicNormal[sName]):i.removeCss(sName);i.bHovered=!1},this},el.prototype.clickedVars=function(e,t,n){var i=this;for(sName in isString(e)?i.dicClicked[e]=t:(i.dicClicked=concat(i.dicClicked,e),n=t),0==isUndefined(n)&&(i.dicClicked=concat(i.dicClicked,getTransitionDurationCss(n))),i.dicClicked)i.has(sName)&&(i.dicNormal[sName]=i.css(sName));return this.funcCssClick_start=function(e){for(sName in i.bClicked=!0,i.dicClicked)i.css(sName,i.dicClicked[sName])},this.funcCssClick_end=function(e){var t=i.dicNormal;for(sName in i.bSelected&&(t=i.dicSelected),i.dicClicked)has(t,sName)?i.css(sName,t[sName]):i.removeCss(sName);i.bClicked=!1},this},el.prototype.clicked=function(n,i,o){var t=this;if(0==this.hasAttr(g_sData_skipCss))for(sName in isString(n)?this.dicClicked[n]=i:(this.dicClicked=Object.assign({},n),o=i),0==isUndefined(o)&&(t.dicClicked=concat(t.dicClicked,getTransitionDurationCss(o))),t.dicClicked)t.has(sName)&&(t.dicNormal[sName]=t.css(sName));return this.each(function(e,t){0==e.hasAttr(g_sData_skipCss)&&e.clickedVars(n,i,o)}),this.funcCssClick_start=function(n){for(sName in t.bClicked=!0,t.dicClicked)t.css(sName,t.dicClicked[sName]);t.each(function(e,t){is(e.funcCssClick_start)&&e.funcCssClick_start(n)}),t.css("cursor","pointer")},this.funcCssClick_end=function(n){var e=t.dicNormal;for(sName in t.bSelected&&(e=t.dicSelected),t.dicClicked)has(e,sName)?t.css(sName,e[sName]):t.removeCss(sName);t.each(function(e,t){is(e.funcCssClick_end)&&e.funcCssClick_end(n)}),t.bClicked=!1,t.css("cursor","auto")},this.funcCssClick=function(e){t.funcCssClick_start(e),setTimeout(function(){t.funcCssClick_end(e)},360)},this.onclick(this.funcCssClick),this},el.prototype.hidden=function(){return"none"==this.css("display")||"hidden"==this.css("visibility")},el.prototype.show=function(e){isUndefined(e)&&(e=!0);var t,n=null;return this.has("display")&&("block"!=(t=this.css("display"))&&"inline-block"!=t&&"inline"!=t||(n=t,this.attr(g_sData_display,n))),e?(0==is(n)&&this.hasAttr(g_sData_display)&&("block"!=(t=this.attr(g_sData_display))&&"inline-block"!=t&&"inline"!=t||(n=t)),is(n)?this.css("display",n):this.css("display","block")):this.css("display","none"),this},el.prototype.hide=function(e,t){return this.show(!1)},el.prototype.parent=function(){return this.element.parentElement},el.prototype.log=function(){console.log(this.element)},el.prototype.floatLeft=function(e){return isUndefined(e)&&(e=!0),e?this.css("float","left"):this.removeCss("float"),this},el.prototype.floatRight=function(e){return isUndefined(e)&&(e=!0),e?this.css("float","right"):this.removeCss("float"),this},el.prototype.clearLeft=function(){return this.css("clear","left"),this},el.prototype.clearRight=function(){return this.css("clear","right"),this},el.prototype.clearBoth=function(){return this.css("clear","both"),this},el.prototype.fixed=function(){return this.css("position","fixed"),this},el.prototype.relative=function(){return this.css("position","relative"),this},el.prototype.sticky=function(){return this.css("position","sticky"),this},el.prototype.absolute=function(){return this.css("position","absolute"),this},el.prototype.transition=function(e){e={"-webkit-transition":e,"-moz-transition":e,"-ms-transition":e,"-o-transition":e,transition:e};return this.css(e),this},el.prototype.transitionDuration=function(e){e={"-webkit-transition-duration":e+"s","transition-duration":e+"s"};return this.css(e),this},el.prototype.position=function(e){return this.css("position",e),this},el.prototype.inlineBlock=function(){return this.css("display","inline-block"),this.attr(g_sData_display,"inline-block"),this},el.prototype.block=function(){return this.css("display","block"),this.attr(g_sData_display,"block"),this},el.prototype.inline=function(){return this.css("display","inline"),this.attr(g_sData_display,"inline"),this},el.prototype.width=function(e){return isUndefined(e)?this.element.clientWidth:(isPercent(e)||isPx(e)?this.element.style.width=e:this.element.style.width=e+"px",this)},el.prototype.height=function(e){return isUndefined(e)?this.element.clientHeight:(isPercent(e)||isPx(e)?this.element.style.height=e:this.element.style.height=e+"px",this)},el.prototype.lineHeight=function(e){return isUndefined(e)?this.css("line-height"):(isPercent(e)||isPx(e)?this.css("line-height",e):this.css("line-height",e+"px"),this)},el.prototype.size=function(e,t){return is(e)?(this.width(e),is(t)?this.height(t):this.height(e),this):size(this.element.clientWidth,this.element.clientHeight)},el.prototype.rt=function(e,t,n,i){n=rt(e,t,n,i);if(is(e)&&(this.width(n.width),this.height(n.height)),is(i)&&(this.top(n.x),this.left(n.y)),!is(e))return rt(this.top(),this.left(),this.element.clientWidth,this.element.clientHeight)},el.prototype.top=function(e){return void 0!==e&&null!=e?(this.element.style.top=e+"px",this):this.element.offsetTop},el.prototype.offsetLeft=function(){return findElementOrigin(this.element)[0]},el.prototype.rect=function(){return this.element.getBoundingClientRect()},el.prototype.scroll=function(e){return this.element.scrollTo(0,this.height()*e),this},el.prototype.scrollTop=function(){return this.element.scrollTo(0,0),this},el.prototype.scrollBottom=function(){return this.element.scrollTop=this.element.scrollHeight,this},el.prototype.offsetTop=function(){return findElementOrigin(this.element)[1]},el.prototype.left=function(e){return void 0!==e&&null!=e?(this.element.style.left=e+"px",this):this.element.offsetLeft},el.prototype.right=function(e){return void 0!==e&&null!=e?(this.element.style.right=e+"px",this):this.element.offsetLeft+this.element.clientWidth},el.prototype.bottom=function(e){return void 0!==e&&null!=e?(this.element.style.bottom=e+"px",this):this.element.offsetTop+this.element.clientHeight},el.prototype.center=function(){return this.element.parentElement&&(this.element.parentElement.clientWidth>this.element.clientWidth||this.element.parentElement.clientHeight>this.element.clientHeight)&&this.css({top:.5*(this.element.parentElement.clientHeight-this.element.clientHeight)+"px",left:.5*(this.element.parentElement.clientWidth-this.element.clientWidth)+"px"}),this},el.prototype.align=function(e,t){return 0==is(t)&&(isNumber(e)?(t=e,e=this.element.parentElement):t=2),1==t?this.left(e.element.offsetLeft-(this.width()-e.element.clientWidth)):3==t?this.left(e.element.offsetLeft):this.left(e.element.offsetLeft-.5*(this.width()-e.element.clientWidth)),this.top(e.top()+e.element.clientHeight),this},el.prototype.text=function(e){return null!=e?(this.element.textContent=e,this):this.element.textContent},el.prototype.makeChildren=function(){var e;if(is(this.element.children))for(this.children=[],e=0;e<this.element.children.length;e++){var t=new el;t.element=this.element.children[e],(t.parent=this).children.push(t),t.makeChildren()}},el.prototype.html=function(e){return is(e)?(this.element.innerHTML=e,this.makeChildren(),this):this.element.innerHTML},el.prototype.value=function(e){return isUndefined(e)?this.element.value:(this.element.value=e,this)},el.prototype.fontSize=function(e){return isString(e)?(this.css("font-size",e),this):isNumber(e)?(this.css("font-size",e+"px"),this):this.element.style["font-size"]},el.prototype.fontWeight=function(e){return is(e)?(this.css("font-weight",e),this):this.css("font-weight")},el.prototype.textAlign=function(e){return isString(e)?(this.css("text-align",e),this):this.element.style["text-align"]},el.prototype.fontFamily=function(e){return isString(e)?(this.css("font-family",e),this):this.element.style["font-family"]},el.prototype.margin=function(e,t,n,i){return 0==is(e)?this.css("margin"):(0==is(t)?i=n=t=e:0==is(n)?(n=e,i=t):0==is(i)&&(i=t),this.marginTop(e),this.marginRight(t),this.marginBottom(n),this.marginLeft(i),this)},el.prototype.marginRight=function(e){return is(e)?(isPercent(e)||isPx(e)?this.css("margin-right",e):this.css("margin-right",e+"px"),this):this.css("margin-right")},el.prototype.marginLeft=function(e){return is(e)?(isPercent(e)||isPx(e)?this.css("margin-left",e):this.css("margin-left",e+"px"),this):this.css("margin-left")},el.prototype.marginTop=function(e){return is(e)?(isPercent(e)||isPx(e)?this.css("margin-top",e):this.css("margin-top",e+"px"),this):this.css("margin-top")},el.prototype.marginBottom=function(e){return is(e)?(isPercent(e)||isPx(e)?this.css("margin-bottom",e):this.css("margin-bottom",e+"px"),this):this.css("margin-bottom")},el.prototype.padding=function(e,t,n,i){return 0==is(e)?this.css("padding"):(0==is(t)?i=n=t=e:0==is(n)?(n=e,i=t):0==is(i)&&(i=t),this.paddingTop(e),this.paddingRight(t),this.paddingBottom(n),this.paddingLeft(i),this)},el.prototype.paddingRight=function(e){return is(e)?(isPercent(e)||isPx(e)?this.css("padding-right",e):this.css("padding-right",e+"px"),this):this.css("padding-right")},el.prototype.paddingLeft=function(e){return is(e)?(isPercent(e)||isPx(e)?this.css("padding-left",e):this.css("padding-left",e+"px"),this):this.css("padding-left")},el.prototype.paddingTop=function(e){return is(e)?(isPercent(e)||isPx(e)?this.css("padding-top",e):this.css("padding-top",e+"px"),this):this.css("padding-top")},el.prototype.paddingBottom=function(e){return is(e)?(isPercent(e)||isPx(e)?this.css("padding-bottom",e):this.css("padding-bottom",e+"px"),this):this.css("padding-bottom")},el.prototype.context=function(e){return is(e)&&1==e?this.element.getContext("3d"):this.element.getContext("2d")},el.prototype.border=function(e,t){return is(e)?(isString(e)?this.css({border:e}):(0==is(t)&&(t="black"),this.css({border:e+"px solid "+t})),this):this.element.style.border},el.prototype.borderRadius=function(e){return is(e)?(isPercent(e)||isPx(e)?this.css("border-radius",e):this.css("border-radius",e+"%"),this):this.element.style["border-radius"]},el.prototype.fitText=function(e){var t=.7;void 0!==e&&null!=e&&(t=e);t=this.height()*t;0<t&&(this.element.style["font-size"]=t+"px")},el.prototype.remove=function(){return this.element.parentElement&&(this.element.parentElement.removeChild(this.element),this.parent=null),this},el.prototype.empty=function(){for(;this.element.firstChild;)this.element.firstChild.remove();this.children=[]},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var e=this.length-1;0<=e;e--)this[e]&&this[e].parentElement&&this[e].parentElement.removeChild(this[e])},g_arrAjax=[];var g_bAjaxJsonResponse=!0;function ajax(t,e,n,i,o,s){isUndefined(s)&&(s=!0);g_arrAjax.length;var r=[!1,function(){g_elWaitingPopUp.show(!0),ajax_(t,e,function(e){0==g_bAjaxJsonResponse&&(e=parseJson(e)),s?null==e?(is(o)&&o(),n&&alert(t+" no json: "+e)):e.success?is(i)&&i(e):(is(o)&&o(),n&&alert(t+" fail: "+e.message)):i(e),g_elWaitingPopUp.show(!1),g_arrAjax.splice(g_arrAjax.indexOf(r),1),runAjax()},function(e){is(o)&&o(),n&&alert(t+" not 200: ajax status: "+e),g_arrAjax.splice(g_arrAjax.indexOf(r),1),runAjax()})}];addAjax(r),3<g_arrAjax.length&&console.log("g_arrAjax.length: "+g_arrAjax.length),runAjax()}function ajax_(e,t,n,i){xmlhttp=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),null==t?xmlhttp.open("GET",e,!0):xmlhttp.open("POST",e),g_bAjaxJsonResponse&&(xmlhttp.responseType="json"),xmlhttp.onload=function(){200===xmlhttp.status?is(n)&&n(g_bAjaxJsonResponse?xmlhttp.response:xmlhttp.responseText):is(i)&&i(xmlhttp.status)},null==t?xmlhttp.send():xmlhttp.send(t)}function buttonCss(e,t,n,i,o){return{display:"inline-block","line-height":t+"px",height:t+"px","border-radius":n+"px",border:o+"px solid "+i,"text-decoration":"none"}}function roundButton(e,t,n,o){var s=div();0==is(t)&&(t=!1),0==is(o)&&(o=5);var r=[];for(i=3;i<arguments.length;i++)r.push(arguments[i]);return 0<r.length&&s.setEl.apply(s,r),s.css(buttonCss(t,n,o,"gray",2)),s.onclick(e),s.padding(0,.3*n,0,.3*n),s}function button(e){var t=new el("input"),n=[];for(i=2;i<arguments.length;i++)n.push(arguments[i]);for(0<n.length&&t.setEl.apply(t,n),t.element.type="button",i=0;i<arguments.length;i++)isString(arguments[i])&&0==isPercent(arguments[i])&&0==isPx(arguments[i])&&(t.element.value=arguments[i]);return t.element.onclick=e,t}function submitButton(e,t,n,i,o,s){var r=new el("input");return r.setEl.apply(r,[t,n,i,o,s]),r.element.type="submit",isString(i)?r.element.value=i:isString(s)?r.element.value=s:isString(t)&&(r.element.value=t),r.element.onclick=e,r}function uploadDiv(o,s){var e=div();if(1<arguments.length){var t=[];for(i=2;i<arguments.length;i++)t.push(arguments[i]);e.setEl.apply(e,t)}var r=input("upload",{display:"none"}).type("file").name("file").placeHolder("").required(!1);return e.append(r),e.element.onclick=function(e){r.element.click()},r.element.addEventListener("change",function(e){var t,n=r.element.files[0],i=2==o?"text.*|application/x-javascript|text/javascript|application/x-pointplus|text/css":"image.*";n.type.match(i)?2==o?((t=new FileReader).onload=function(e){s(n.type,t.result)},t.readAsText(n)):s(n.type,n):alert("File not supported!")}),e}function box_small(){var e=box_make_title_text.apply(null,arguments);box_(e[0],e[1],1.34)}function box(){var e=box_make_title_text.apply(null,arguments);box_(e[0],e[1])}function box_make_title_text(){var e=null,t=null,n=null,o=null;for(i=0;i<arguments.length;i++)4==arguments.length?(e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3]):3==arguments.length?isString(arguments[1])?(e=arguments[0],n=arguments[1],o=arguments[2]):(e=arguments[0],t=arguments[1],n=arguments[2]):2==arguments.length?isString(arguments[1])?(e=arguments[0],n=arguments[1]):(n=arguments[0],o=arguments[1]):1==arguments.length&&(n=arguments[0]);return null!=e&&null!=t&&(e=fxAddColorSpan(e,t)),null!=n&&null!=o&&(n=fxAddColorSpan(n,o)),[e,n]}function box_(e,t,n){var i={"font-size":n+"em","font-weight":"460",color:"#000",margin:"6px 0px"};t=replace_enter_to_hr(t),isUndefined(n)&&(n=1.8);n=div({margin:"4px 30px 4px 16px"});n.appendChild(div(e,i)),n.appendChild(div(t)),toContent(n.element)}function box_color(e,t,n){is(n)&&(t=fxAddColorSpan(t,n)),t=replace_enter_to_hr(t);n=div({margin:"4px 10px 4px 8px"});n.appendChild(div(t,concat({padding:"6px 20px 6px 10px"},e))),toContent(n.element)}function box_blue(e,t){box_color({"background-color":"rgb(245, 250, 255)","border-left":"3px solid dodgerblue"},e,t)}function box_yellow(e,t){box_color({"background-color":"#feffc4","border-left":"3px solid #f2f700"},e,t)}function box_orange(e,t){box_color({"background-color":"#ffffe4","border-left":"3px solid #f08400"},e,t)}function box_green(e,t){box_color({"background-color":"rgb(235, 255, 244)","border-left":"4px solid mediumseagreen"},e,t)}function box_red(e,t){box_color({"background-color":"#fff3f0","border-left":"3px solid #ff0000"},e,t)}function box_line(e,t,n,i){0==is(n)&&(n="#f0f0f0");t=div().padding(e,10,t,12),n=div(1).bgColor(n);return t.appendChild(n),0==is(i)&&(i=!0),i&&toContent(t.element),t}function divLine(e,t,n){0==is(t)&&(t=2),0==is(n)&&(n=2),0==is(e)&&(e="#f0f0f0");n=div().padding(t,0,n,0),e=div(1).bgColor(e);return n.appendChild(e),n}function box_space(e){toContent(div(e).element)}var g_nCurrentEditorThemeNumber=11;function box_editor_html_simply(e,t,n,i,o,s,r,l,a){return isString(t)&&(t=[t,"",""]),box_editor(!0,e,1,t,n,i,o,s,r,l,a)}function box_editor_html(e,t,n,i,o,s,r,l,a){isString(t)&&(t=[t,"",""]);l=box_editor(!1,e,1,t,n,i,o,s,r,l,a),a=l.dicTaps[0];return l.selectTap(a[0]),l}function box_editor_js_simply(e,t,n,i,o,s,r,l,a){return isString(t)&&(t=["",t,""]),box_editor(!0,e,2,t,n,i,o,s,r,l,a)}function box_editor_js(e,t,n,i,o,s,r,l,a){isString(t)&&(t=["",t,""]);l=box_editor(!1,e,2,t,n,i,o,s,r,l,a),a=l.dicTaps[1];return l.selectTap(a[0]),l}function box_editor_multiJs(e,t,n,i,o,s,r,l,a){var c,u=["HTML","JavaScript","CSS"],d="";isString(t)?d=["",t,""]:(c=firstKey(t),u[1]=c,d=["",firstValue(t),""],remove(t,c));var h,u=box_editor(!1,e,2,d,n,i,o,s,r,l,a,u);0==isString(t)&&(h=u.createTapWithBuffer(1,t)),is(h)&&(u.selectTap(h),u.updatePreview())}function box_editor_css_simply(e,t,n,i,o,s,r,l,a){return isString(t)&&(t=["","",t]),box_editor(!0,e,3,t,n,i,o,s,r,l,a)}function box_editor_css(e,t,n,i,o,s,r,l,a){isString(t)&&(t=["","",t]);l=box_editor(!1,e,3,t,n,i,o,s,r,l,a),a=l.dicTaps[2];return l.selectTap(a[0]),l}function box_editor_all_simply(e,t,n,i,o,s,r,l,a){l=box_editor(!0,e,4,t,n,i,o,s,r,l,a),a=l.dicTaps[3];return l.selectTap(a[0]),l}function box_editor_all(e,t,n,i,o,s,r,l,a){return box_editor(!1,e,4,t,n,i,o,s,r,l,a)}function popUpEditor(){var e=``,t=1,n=!0,i=!0;screen.width<700&&(i=n=!(t=7));var o=!0;screen.width<700&&(o=!1);g_elModal_ContentDiv.empty(),g_elModal.show(),g_funcClose_ModalEditor=function(e){g_elModal.hide(),document.body.style.overflow="auto"},document.body.style.overflow="hidden",new createJsmationEditor(g_elModal_ContentDiv,e,!1,null,1,50,!1,!1,!0,0,g_funcClose_ModalEditor,null,t,3,0,!0,!0,n,i,!0,!0,"gray","#bbb","#bbb","#bbb","seagreen","white",!0,!0,!0,!0,!0,!0,!0,["HTML","JavaScript","CSS"],!1,!0,!1,!1,!1,o,!1,"My","Editor","","","","").changeTheme(g_nCurrentEditorThemeNumber)}function box_editor(i,e,t,n,o,s,r,l,a,c,u,d){var h=div(e,{}).relative();toContent(h.element),isUndefined(o)&&(o=50);var f=!0,g=!1,p=!1,m=6,y=!1,_=!1;isUndefined(s)&&(s=!1),s&&(y=!0),g_bMobile&&(m=7);var v=4;isUndefined(l)&&(l=!1),isUndefined(a)&&(a=!1),isUndefined(c)&&(c=!1),isUndefined(u)&&(u=!1);e=0;l&&e++,c&&e++,a&&e++,u&&e++,1==t?(l=!0,v=0):2==t?(c=!0,v=1):3==t?(a=!0,v=2):4==t&&(u=!0,v=4);var b=1,x=4,C="#f5f5f5",S="mediumseagreen",k="white",w=C,E="black",L=C,M=!1,T=!1,N=!1,A=!1,F=!1,H=!1,B=!1;isUndefined(d)&&(d=["HTML","JavaScript","CSS"]);function D(e){window.removeEventListener("message",I.funcMessage),I.arrSubCodes=null,P.arrSubCodes=null,r=null,P.loadCode(I.getTotalCode()),g_elModal.hide(),document.body.style.overflow="auto"}var I,U=t,P=new createJsmationEditor(h,n,g,r,U,o,f,!1,!1,x,null,function(e){var t,n;null!=g_elModal&&(g_funcClose_ModalEditor=D,g_elModal.show(),B=H=_=!(f=!(A=F=N=T=M=!(g=!1))),x=0,E=C="#ddd",L="#bbb",S="seagreen",k="white",b=i?1:2,g_elModal_ContentDiv.empty(),t=P.getTotalCode(),is(r)&&(isString(r)&&((n=["","",""])[1]+=r,r=n),t=P.addCodeToHTML(t,r,!0)),0==i&&(p=u=a=c=l=!0),document.body.style.overflow="hidden",(I=new createJsmationEditor(g_elModal_ContentDiv,t,g,null,U,o,f,!1,!1,x,D,null,m,b,v,!0,M,T,N,F,A,C,w,E,L,S,k,p,l,a,c,u,H,B,d,s,_,y)).changeTheme(g_nCurrentEditorThemeNumber),I.updatePreview(!1),g_pModalEditor=I)},m,b,v,!1,M,T,N,F,A,C,w,E,L,S,k,p,l,a,c,u,H,B,d,s,_,y);return P.changeTheme(g_nCurrentEditorThemeNumber),P.updatePreview(!1),P}function codeMirrorValue(e,t){null==t&&(t=""),e.getDoc().setValue(t)}function focusEditor(e){setTimeout(function(){e.refresh()},1),setTimeout(fxUpdateIframePreview(e),300)}function fxUpdateIframePreview(e){var t=id("iframe_preview");null!=t&&((t=t.contentDocument||t.contentWindow.document).open(),t.write(e.getValue()),t.close())}function insertTextToCodeMirror(e,t){var n=e.getDoc(),i=n.getCursor(),e=n.getLine(i.line),i={line:i.line};0===e.length?n.replaceRange(t,i):n.replaceRange("\n"+t,i)}var g_funcCodeMirrorFullScreen=null;function makeCodeMirror(e,t,n,i,o){if(null!=id(e)){void 0!==i&&(id(e).innerHTML=i),isUndefined(t)&&(t=!1);o=void 0!==o&&null!=o?"text/"+o:"text/html";return t?CodeMirror.fromTextArea(document.getElementById(e),{lineNumbers:t,lineWrapping:!0,viewportMargin:1/0,mode:o,autoCloseTags:!0,autoCloseBrackets:!0,extraKeys:{"Cmd-F":"findPersistent","Ctrl-F":"findPersistent","Cmd-E":"findPersistent","Ctrl-E":"findPersistent","Cmd-G":"findPersistent","Ctrl-G":"findPersistent","Alt-F":"findPersistent",F10:function(e){e.getOption("fullScreen")?(is(g_funcCodeMirrorFullScreen)&&g_funcCodeMirrorFullScreen(!1),n(!1),e.setOption("fullScreen",!1)):(is(g_funcCodeMirrorFullScreen)&&g_funcCodeMirrorFullScreen(!0),n(!0),e.setOption("fullScreen",!0))},Esc:function(e){e.getOption("fullScreen")?(is(g_funcCodeMirrorFullScreen)&&g_funcCodeMirrorFullScreen(!1),n(!1),e.setOption("fullScreen",!1)):e.showHint({hint:CodeMirror.hint.anyword})}},gutters:["CodeMirror-foldgutter"],foldGutter:!0,highlightSelectionMatches:{showToken:/\w/,annotateScrollbar:!0}}):CodeMirror.fromTextArea(document.getElementById(e),{lineWrapping:!1,scrollbarStyle:"null",viewportMargin:1/0,mode:o,autoCloseTags:!0,autoCloseBrackets:!0,extraKeys:{"Cmd-F":"findPersistent","Ctrl-F":"findPersistent","Cmd-E":"findPersistent","Ctrl-E":"findPersistent","Cmd-G":"findPersistent","Ctrl-G":"findPersistent","Alt-F":"findPersistent",F10:function(e){e.getOption("fullScreen")?(is(g_funcCodeMirrorFullScreen)&&g_funcCodeMirrorFullScreen(!1),n(!1),e.setOption("fullScreen",!1)):(is(g_funcCodeMirrorFullScreen)&&g_funcCodeMirrorFullScreen(!0),n(!0),e.setOption("fullScreen",!0))},Esc:function(e){e.getOption("fullScreen")?(is(g_funcCodeMirrorFullScreen)&&g_funcCodeMirrorFullScreen(!1),n(!1),e.setOption("fullScreen",!1)):e.showHint({hint:CodeMirror.hint.anyword})}},highlightSelectionMatches:{showToken:/\w/,annotateScrollbar:!0},matchTags:{bothTags:!0}})}}function svgBgCss(e,t,n,i,o){return{background:"url('images/"+e+"')","background-repeat":"no-repeat","background-size":i+"px "+o+"px",width:t+"px",height:n+"px",display:"inline-block"}}function svgDiv(e,t,n,i,o){return 0==is(i)&&(i=t),0==is(o)&&(o=n),div(svgBgCss(e,t,n,i,o))}function ready(e){g_arrOnloadFunctions.push(e)}function fxAddRearrangUIFunction(e){g_arrOnResizeFunctions.push(e)}function listener_tablet(e){for(index=0;index<g_arrMaxWidth_tabletFunctions.length;index++)e.matches?g_arrMaxWidth_tabletFunctions[index](!0):g_arrMaxWidth_tabletFunctions[index](!1)}function maxWidth_tablet(e){g_arrMaxWidth_tabletFunctions.push(e),document.body.clientWidth<g_nMaxWidth_tablet?e(!0):e(!1)}g_arrOnloadFunctions=[],window.onload=function(){for(i=0;i<g_arrOnloadFunctions.length;i++)g_arrOnloadFunctions[i]()},g_arrOnResizeFunctions=[],window.onresize=function(){for(i=0;i<g_arrOnResizeFunctions.length;i++)g_arrOnResizeFunctions[i]()},g_nMaxWidth_tablet=g_fTabletWidth,g_arrMaxWidth_tabletFunctions=[];var windowMatchMedia=window.matchMedia("(max-width: "+g_nMaxWidth_tablet+"px)");function listener_mobile(e){for(index=0;index<g_arrMaxWidth_mobileFunctions.length;index++)e.matches?g_arrMaxWidth_mobileFunctions[index](!0):g_arrMaxWidth_mobileFunctions[index](!1)}function maxWidth_mobile(e){g_arrMaxWidth_mobileFunctions.push(e),document.body.clientWidth<g_nMaxWidth_mobile?e(!0):e(!1)}function maxWidth(t){maxWidth_mobile(function(e){0==g_bMobile&&(e?t(!0,!1):t(!1,!0))}),maxWidth_tablet(function(e){getDocumentWidth()>g_fMobileWidth&&g_bDesktop&&t(!1,!!e)})}function replace_enter_to_hr(e){if(isString(e)){var t=new RegExp("\n","gi");return e.replace(t,function(e){return"<hr class='myhr'>"})}return e}function replace_tab_to(e){return isString(e)&&(e=e.replace(/\t/g,"good")),e}function highlight_(e,t,n){n=new RegExp(n,"gi");return e.replace(n,function(e){return"<span style='color:"+t+";'>"+e+"</span>"})}function fxAddColorSpan(e,t,n){if(is(t)&&isString(e))for(var i in t){var o=new RegExp(t[i],"gi"),s="";is(n)&&(s=isNumber(n)?"font-size:"+n+"px":"font-size:"+n),e=e.replace(o,function(e){return"<span style='color:"+i+";"+s+"'>"+e+"</span>"})}return e}function logElement(e){for(var t in console.log(e),e)e.hasAttribute(t)&&console.log(t+": "+e.getAttribute(t))}function alertElement(e){var t,n=" ";for(t in e)e.hasAttribute(t)&&(n+=t);alert(id+" : "+n)}function setSvgColor(e,n,i,o,t){var s=!0;is(t)&&t&&(s=!1),e.each(function(e,t){(!s||e.element.id==g_sID_changeable)&&svgStrokeFill(e,n,i,o)})}function svgHover(t,n,i,o,s,r,l,e,a){var c=!0;is(a)&&a&&(c=!1),is(e)&&e.forEach(function(e,t){e.attr({id:g_sID_changeable})}),t.element.onmouseover=function(e){setSvgColor(t,s,r,l,!c)},t.element.onmouseout=function(e){setSvgColor(t,n,i,o,!c)}}function svgClick(t,n,i,o,s,r,l,a){t.element.onclick=function(e){setSvgColor(t,s,r,l),setTimeout(function(){setSvgColor(t,n,i,o)},250),is(a)&&a(e)}}function svgStrokeFill(e,t,n,i,o){0==isDefined(o)&&(o=!1);var s={};!is(t)||o&&!e.has("stroke")||(s.stroke=t),!is(n)||o&&!e.has("stroke-width")||(s["stroke-width"]=n),!is(i)||o&&!e.has("fill")||(s.fill=i),e.css(s)}function elNS(e){return new el(document.createElementNS("http://www.w3.org/2000/svg",e))}function circle(e,t,n,i,o,s){isUndefined(s)&&isUndefined(o)&&(o=n,s=i=t,e=(r=e).x+.5*r.width,t=r.y+.5*r.height,n=.5*r.width);var r=elNS("circle");return r.attr({class:"circle",r:n,cx:e,cy:t,stroke:i,"stroke-width":o,fill:s}),r}function ellipse(e,t,n,i,o,s,r){isUndefined(r)&&isUndefined(s)&&isUndefined(o)&&(o=t,s=n,r=i,e=(l=e).x+.5*l.width,t=l.y+.5*l.height,n=.5*l.width,i=.5*l.height);var l=elNS("ellipse");return l.attr({class:"ellipse",rx:n,ry:i,cx:e,cy:t,stroke:o,"stroke-width":s,fill:r}),l}function rect(e,t,n,i){var o=elNS("rect");return o.attr({class:"rect",x:e.x,y:e.y,width:e.width,height:e.height}),svgStrokeFill(o,t,n,i),o}function svg(e,t,n){var i=elNS("svg"),t={width:e,height:t};i.attr(concat(t,n));return i.css({display:"inline-block","vertical-align":"top",cursor:"pointer"}),i}function path(e,t,n,i){var o=elNS("path");return o.attr({d:e}),svgStrokeFill(o,t,n,i),o}function pathData(i){var o="";return i.forEach(function(e,t){var n;0==t?(n=e.split(" "),o+=" M"+Math.round(n[0])+" "+Math.round(n[1])):t==i.length-1?o+=" Z":(n=e.split(" "),o+=" L"+Math.round(n[0])+" "+Math.round(n[1]))}),o}function show(e,t,n){isString(e)&&(e=id(e)),(void 0!==t&&null!=t?t:!0)?is(n)&&n?e.style.display="inline-block":e.style.display="block":e.style.display="none"}function hide(e,t,n){isString(e)&&(e=id(e)),(void 0!==t&&null!=t?!t:!1)?is(n)&&n?e.style.display="inline-block":e.style.display="block":e.style.display="none"}function polygon(e,t,n,i){var o=elNS("polygon");return o.attr({points:e}),svgStrokeFill(o,t,n,i),o}function gTranslate(e,t){var n=elNS("g");return n.attr({class:"g",transform:"translate("+e+","+t+")"}),n}function gTransform(e,t,n,i){var o=elNS("g");return o.attr({class:"g",transform:"translate("+e+", "+t+") scale("+n+" "+i+")"}),o}function text(e,t,n,i,o,s,r){return text_(e,t,n,"sans-serif",i,.6,"normal",0,0,o,s,r)}function text_(e,t,n,i,o,s,r,l,a,c,u,d){d=textElement(t,n,i,o,s,r,l,a,c,u,d);return d.html(e),d}function textElement(e,t,n,i,o,s,r,l,a,c,u){var d=elNS("text");return d.attr({class:"text",x:e,y:t}),d.css({"font-family":n,"font-size":i+"px","line-height":o,"font-weight":s,"letter-spacing":r+"px","word-spacing":l+"px",stroke:a,"stroke-width":c,fill:u}),d}function textspan(e,t,n,i,o){var s=elNS("tspan");return s.attr({class:"text","sodipodi:role":"line",x:t,y:n}),s.css({"font-size":i+"px","line-height":o}),s.html(e),s}function arrow(e,t,n,i,o){0==is(o)&&(o=pt(.4,.3));var s=pt(e.x+e.width*o.x,e.y+.5*e.height),o=e.height*o.y;return path(pathData([e.x+" "+s.y,s.x+" "+e.y,s.x+" "+(e.y+o),e.x+e.width+" "+(e.y+o),e.x+e.width+" "+(e.y+e.height-o),s.x+" "+(e.y+e.height-o),s.x+" "+(e.y+e.height),e.x+" "+s.y,"0 0"]),t,n,i)}listener_tablet(windowMatchMedia),windowMatchMedia.addListener(listener_tablet),g_nMaxWidth_mobile=g_fMobileWidth,g_arrMaxWidth_mobileFunctions=[],listener_mobile(windowMatchMedia=window.matchMedia("(max-width: "+g_nMaxWidth_mobile+"px)")),windowMatchMedia.addListener(listener_mobile);var g_sLocalKey_Language="language",g_sLocalKey_Code="code",g_sLocalKey_CreatedDate="created",g_sLocalKey_ModifiedDate="modified",g_sLocalKey_Description="description",g_sLocalKey_LastIndex="nLastFileIndex",g_sLocalKey_options="options";function getLocalLastFileIndex(){if("undefined"!=typeof Storage){var e=localStorage.getItem(g_sLocalKey_LastIndex);if(is(e))return e}return-1}function getLocalFileIndexFromFinderIndex(e){var t=getLocalFilesKeys();if(is(t)){var n=0,i=null;for(key in t){if(e==n){i=t[key];break}n++}if(null!=i)return getIndexFromFileName(i)}return 0}function getFinderIndexFromLocalFileIndex(e){var t=getLocalFilesKeys();if(is(t)){var n=0;for(key in t){if(getIndexFromFileName(t[key])==e)return n;n++}}return 0}function setLocalLastIndex(e){"undefined"!=typeof Storage&&localStorage.setItem(g_sLocalKey_LastIndex,e)}function getLocalFilesCount(){var e=getLocalFiles();return null==e?0:Object.keys(e).length}function getLocalFiles(){return getLocalItems(g_sLocalKey_Code)}function getLocalItems(e){if("undefined"!=typeof Storage){e=localStorage.getItem(e);if(is(e)&&""!=e&&0!=e){e=parseJson(e);if(null!=e)return e}}return null}function changeLocalFileKey(e,t){var n,i;e!=t&&(console.log("sOldKey:"+e),console.log("sNewKey:"+t),is(i=(n=getLocalItems(g_sLocalKey_Code))[e])&&(n[t]=i,delete n[e],setLocalItems(n,g_sLocalKey_Code)),is(i=(n=getLocalItems(g_sLocalKey_Description))[e])&&(n[t]=i,delete n[e],setLocalItems(n,g_sLocalKey_Description)),is(i=(n=getLocalItems(g_sLocalKey_ModifiedDate))[e])&&(n[t]=i,delete n[e],setLocalItems(n,g_sLocalKey_ModifiedDate)))}function getLocalFilesKeys(){return getLocalItemsKeys(g_sLocalKey_Code)}function getLocalItemsKeys(e){e=getLocalItems(e);return null==e?null:Object.keys(e).sort(function(e,t){return parseInt(e)-parseInt(t)})}function getLocalFile(e){return getLocalItem(e,g_sLocalKey_Code)}function getLocalItem(e,t){var n=getLocalItems(t);if(null==n)return null;if(isUndefined(e))return n.lastValue;if(isNumber(e)){var o=getLocalItemsKeys(t);if(is(o))for(i=0;i<o.length;i++){var s=o[i],r=getIndexFromFileName(s);if(parseInt(e,10)==parseInt(r,10))return 1<g_nLogLevel&&console.log("load sKey:"+t+" sKeyFileName:"+s+" arrText:"+n),n[s]}}return null}function getLocalKeyFileName(e){if(isUndefined(e))return null;if(isNumber(e)){var t=getLocalFilesKeys();for(index in t){var n=t[index],i=getIndexFromFileName(n);if(parseInt(e)==parseInt(i))return n}}return console.log("local Key file index: "+e),console.log(getLocalFiles()),alert("getLoccalKeyFileName Error"),null}function createFileName(e,t){return isUndefined(t)&&(t=getLocalFilesCount()),t+"_"+e}function getIndexFromFileName(e){if(is(e)){e=e.split("_");if(0<e.length)return e[0]}return null}function getNameFromFileName(e){if(is(e)){e=e.split("_");if(1<e.length)return e[1]}return null}function saveLocalFile(e,t,n,i){e=getLocalKeyFileName(getLocalFileIndexFromFinderIndex(e));return!!is(e)&&setLocalItem(e,t,g_sLocalKey_Code)}function deleteLocalFile(e){e=getLocalKeyFileName(getLocalFileIndexFromFinderIndex(e));is(e)&&(deleteLocalItem(e,g_sLocalKey_Description),deleteLocalItem(e,g_sLocalKey_ModifiedDate),deleteLocalItem(e,g_sLocalKey_Code))}function setLocalItem(e,t,n){var i=getLocalItems(n);return null==i&&(i={}),i[e]=t,1<g_nLogLevel&&(console.log("save sKey: "+n+" sKeyFileName: "+e+" sValue: "+t),console.log(i)),setLocalItems(i,n)}function deleteLocalItem(e,t){var n=getLocalItems(t);return null==n&&(n={}),delete n[e],setLocalItems(n,t)}function saveLocalFiles(e){return setLocalItems(e,g_sLocalKey_Code)}function setLocalItems(e,t){return"undefined"!=typeof Storage&&(localStorage.setItem(t,JSON.stringify(e)),!0)}function clearLocalStrage(){localStorage.clear()}function getHTTPFile(e,t,n){var i;window.XMLHttpRequest&&((i=new XMLHttpRequest).onreadystatechange=function(){4===i.readyState&&(200===i.status?t&&"function"==typeof t&&t(i.responseText,i):n&&"function"==typeof n&&n(i.responseText,i))},i.open("GET",e),i.send())}function bindConsole(e){if(this.debug={},is(e))for(var t in console)isFunction(console[t])&&(this.debug[t]=e);else for(var t in console)isFunction(console[t])&&(this.debug[t]=console[t].bind(window.console,"custom: "));return this.debug}function clamp(e,t,n){return Math.min(Math.max(t,e),n)}function getTransitionCss(e){return{"-webkit-transition":e,"-moz-transition":e,"-ms-transition":e,"-o-transition":e,transition:e}}function getTransitionDurationCss(e){return{"-webkit-transition-duration":e+"s","transition-duration":e+"s"}}function getDocumentHeight(){var e=document.body,t=document.documentElement;return is(e)&&is(t)?Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight):768}function getDocumentWidth(){var e=document.body,t=document.documentElement;if(is(e)&&is(t)){t=Math.max(e.scrollWidth,e.offsetWidth,t.clientWidth,t.scrollWidth,t.offsetWidth);if(0<t)return t}return screen.width}var g_bStopWaiting=!1;function setTimeout_recursiveUntilG_bStopWaiting(e,t){isUndefined(t)&&(t=!0),t&&(g_bStopWaiting=!1),setTimeout(function(){g_bStopWaiting?e():setTimeout_recursiveUntilG_bStopWaiting(e,!1),console.log("setTimeout_recursiveUntilReturnTrue result: "+bResult)},100)}function findElementOrigin(e){for(var t=0,n=0;t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent,e;);return[n,t]}function startClockFunction(e,t){window.setInterval(function(){is(e)&&e()},1e3*t)}function stopClockFunction(){clearInterval()}function setDownloadURL(e,t,n){var i=(window.URL||window.webkitURL).createObjectURL||webkitURL.createObjectURL,t=new Blob([t],{type:"text/plain"});e.href=i(t),e.download=n,e.click()}function concat(e,t,n){return void 0!==n&&null!=n?Object.assign(e,t,n):Object.assign(e,t)}function getSubSize(e,t){if(0<e){t=e/t;return Math.floor(t)}return 0}var g_bDragging=!1;function dragging(e){if(!is(e))return g_bDragging;g_bDragging=e}function addMouseMoveEvent(e,t){function n(e){(e=e||window.event).preventDefault(),t(e.clientX,e.clientY)}function i(){document.onmouseup=null,document.onmousemove=null,dragging(!1)}e.onmousedown=function(e){document.onmouseup=i,document.onmousemove=n,dragging(!0)}}function addMouseEvent(e,t,n,i){e.onmousedown=function(e){document.onmouseup=function(){document.onmouseup=null,document.onmousemove=null,dragging(!1),is(i)&&i()},document.onmousemove=function(e){(e=e||window.event).preventDefault(),is(n)&&n(e.clientX,e.clientY)},dragging(!0),(e=e||window.event).preventDefault(),is(t)&&t(e.clientX,e.clientY)},e.ontouchstart=function(e){document.ontouchend=function(){document.ontouchend=null,document.ontouchmove=null,dragging(!1),is(i)&&i()},document.ontouchmove=function(e){(e=e||window.event).preventDefault(),is(n)&&n(e.touches[0].clientX,e.touches[0].clientY)},dragging(!0),(e=e||window.event).preventDefault(),is(t)&&t(e.touches[0].clientX,e.touches[0].clientY)}}function makeDraggable(n,e,i,o,s,t){var r,l,a,c=0,u=0,d=n.parentElement;d&&(r=is(i)?rt(d.offsetLeft+i.x,d.offsetTop+i.y,d.clientWidth-i.width-n.clientWidth,d.clientHeight-i.height-n.clientHeight):rt(d.offsetLeft+0,d.offsetTop+0,+d.clientWidth-n.clientWidth,+d.clientHeight-n.clientHeight)),addMouseEvent(is(e)?e:n,function(e,t){c=e,u=t,is(o)&&o(e,t),0==is(d)&&(d=n.parentElement),is(d)&&(r=is(i)?rt(d.offsetLeft+i.x,d.offsetTop+i.y,d.clientWidth-i.width-n.clientWidth,d.clientHeight-i.height-n.clientHeight):rt(d.offsetLeft+0,d.offsetTop+0,+d.clientWidth-n.clientWidth,+d.clientHeight-n.clientHeight))},function(e,t){l=n.offsetTop-(u-t),a=n.offsetLeft-(c-e),c=e,u=t,is(s)&&s(e,t),is(d)&&(l<r.y&&(l=r.y),l>r.height&&(l=r.height),a<r.x&&(a=r.x),a>r.width&&(a=r.width)),n.style.top=l+"px",n.style.left=a+"px"},function(){is(t)&&t()})}function runTapFunctions(e){for(i=0;i<g_arrTappedFunctions.length;i++)g_arrTappedFunctions[i](e)}function addTapEvent(e){g_arrTappedFunctions.push(e)}var tapFunctionCalled=!(g_arrTappedFunctions=[]),touchMoved=!1,touchBegan=!1;function getDateString(){var e=new Date,t=e.getMonth()+1,n=e.getDate(),i=e.getHours(),o=e.getMinutes();return[e.getFullYear(),"-"+(9<t?"":"0")+t,(9<n?"":"0")+n,", "+(9<i?"":"0")+i+"h",(9<o?"":"0")+o].join("")}function getTagName(e){return e.match(/<([^\s>]+)(\s|>)+/)[1]}function getTagContent(e){var t=getTagName(e);return e.match("<"+t+"[^>]*>([^<]+)</"+t+">")[1]}function tagString(e,t,n){var i="<"+e;if(is(t))for(key in t)i+=" "+key+"='"+t[key]+"'";return is(n)?i+">"+n+"</"+e+">":i+"></"+e+">"}function makeHtmlHead(){return tagString("meta",{charset:"UTF-8"})+"\n"+tagString("meta",{name:"viewport",content:"width=device-width"})}function regexpExec(e,t){t=new RegExp(e).exec(t);return t=t&&t[1]}function hasDoctype(e){return null!=new RegExp(/[dD][oO][cC][tT][yY][pP][eE].*?>([\s\S]*)/).exec(e)}function getHtmlScript(e){for(var t,n="",i=new RegExp(/<[sS][cC][rR][iI][pP][tT].*?>([\s\S]*)<\/[sS][cC][rR][iI][pP][tT]>/,"g");null!==(t=i.exec(e));)n+=t[1];return n}function getTagInnerHTMLSum(e,t,n){isUndefined(n)&&(n=!1);for(var i,o=t.getElementsByTagName(e),s="",r=0;r<o.length;r++)(!n||is(i=o[r].getAttribute(g_sData_type))&&0<i.length)&&(s+=o[r].innerHTML);return trimStartEndEnters(s)}function getTagInnerHTMLs(e,t,n){isUndefined(n)&&(n=!1);for(var i,o=t.getElementsByTagName(e),s={},r="",l=0;l<o.length;l++)n?is(i=o[l].getAttribute(g_sData_type))&&0<i.length&&(s[i]=o[l].innerHTML):r+=o[l].innerHTML;return trimStartEndEnters(n?s:r)}function makeHtmlDocumnetFromText(e){return element=document.createElement("html"),element.innerHTML=e,element}function removeScriptString(e){var t=new RegExp(/<[sS][cC][rR][iI][pP][tT].*?>([\s\S]*)<\/[sS][cC][rR][iI][pP][tT]>/);return e.replace(t,"")}function removeStyleString(e){var t=new RegExp(/<[sS][tT][yY][lL][eE].*?>([\s\S]*)<\/[sS][tT][yY][lL][eE]>/);return e.replace(t,"")}function removeTags(e,t,n){var i=t.getElementsByTagName(e);isUndefined(n)&&(n=!1);for(var o,s=[],r=0;r<i.length;r++)(!n||is(o=i[r].getAttribute(g_sData_type))&&0<o.length)&&s.push(i[r]);s.forEach(function(e,t){e.remove()})}function removeScriptTagsExceptExternals(e,t){var n=e.getElementsByTagName("script");isUndefined(t)&&(t=!1);for(var i,o=[],s=0;s<n.length;s++)0==n[s].hasAttribute("src")&&(!t||is(i=n[s].getAttribute(g_sData_type))&&0<i.length)&&o.push(n[s]);o.forEach(function(e,t){e.remove()})}function removeScriptTag(e,t){for(var n=t.getElementsByTagName("script"),i=0;i<n.length;i++)n[i].hasAttribute("src")&&n[i].getAttribute("src")==e&&n[i].parentElement&&n[i].parentElement.removeChild(n[i])}function removeLinkTag(e,t){for(var n=t.getElementsByTagName("link"),i=0;i<n.length;i++)n[i].hasAttribute("rel")&&"STYLESHEET"==n[i].getAttribute("rel").toUpperCase()&&n[i].hasAttribute("href")&&n[i].getAttribute("href")==e&&n[i].parentElement&&n[i].parentElement.removeChild(n[i])}function getUrlsOfScript(e){for(var t=e.getElementsByTagName("script"),n=[],i=0;i<t.length;i++)t[i].hasAttribute("src")&&n.push(t[i].getAttribute("src"));return n}function getHrefOfLink(e){for(var t=e.getElementsByTagName("link"),n=[],i=0;i<t.length;i++)t[i].hasAttribute("rel")&&"STYLESHEET"==t[i].getAttribute("rel").toUpperCase()&&t[i].hasAttribute("href")&&n.push(t[i].getAttribute("href"));return n}function get(e){for(var t=e.getElementsByTagName("script"),n=[],i=0;i<t.length;i++)t[i].hasAttribute("src")&&n.push(t[i].getAttribute("src"));return n}function divideHtml_StringParse(e){var t,n="",i=regexpExec(/<[hH][eE][aA][dD].*?>([\s\S]*)<\/[hH][eE][aA][dD]>/,e),o=regexpExec(/<[sS][tT][yY][lL][eE]>([\s\S]*)<\/[sS][tT][yY][lL][eE]>/,i),s=null;i&&(n+=getHtmlScript(i),t=new RegExp(/<[sS][tT][yY][lL][eE].*?>([\s\S]*)<\/[sS][tT][yY][lL][eE]>/),s=i.replace(t,""));e=regexpExec(/<[bB][oO][dD][yY].*?>([\s\S]*)<\/[bB][oO][dD][yY]>/,e);return{html:e,css:o,js:n+=getHtmlScript(e),head:s}}function is(e){return void 0!==e&&null!=e}function isString(e){return 0!=is(e)&&("string"==typeof e||"object"==typeof e&&e.constructor===String)}function isEl(e){return e instanceof el}function isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}function isObject(e){var t=typeof e;return"function"==t||"object"==t&&!!e}function isElement(e){return e instanceof Element||e instanceof HTMLDocument}function isSVGStyleTag(e){return e instanceof SVGElement||e instanceof SVGStyleElement}function isNumber(e){return 0!=is(e)&&!isNaN(e)}function isArray(e){return 0!=is(e)&&(e&&"object"==typeof e&&e.constructor===Array)}function isFunction(e){return"function"==typeof e}function isBoolean(e){return"boolean"==typeof e}function isUndefined(e){return void 0===e}function isDefined(e){return!isUndefined(e)}function isDate(e){return e instanceof Date}function isPercent(e){if(isString(e)){e=e.trim();if(1<e.length&&"%"==e.charAt(e.length-1))return!0}return!1}function isPx(e){if(isString(e)){e=e.trim();if(2<e.length&&"p"==e.charAt(e.length-2)&&"x"==e.charAt(e.length-1))return!0}return!1}function isIdString(e){if(isString(e)){e=e.trim();if(1<e.length&&"#"==e.charAt(0))return!0}return!1}function isClassString(e){if(isString(e)){e=e.trim();if(1<e.length&&"."==e.charAt(0))return!0}return null}function percent(e){if(isString(e)){e=e.trim();if("%"==e.charAt(e.length-1))return parseInt(e)}return null}function logObject(e){for(key in e)!isString(e[key])&&!isNumber(e[key])&&isEl(e[key])?console.log("key: "+key+" value: "+e[key].html()):console.log("key: "+key+" value: "+e[key])}function has(e,t){return t in e}function remove(e,t){var n;return isArray(e)?-1<(n=isNumber(t)?t:e.indexOf(t))&&e.splice(n,1):delete e[t],e}function hasValue(e,t){for(key in e)if(e[key]==t)return key;return null}function lastKey(e){e=Object.keys(e);return 0<e.length?e[e.length-1]:null}function lastValue(e){var t=lastKey(e);if(is(t))return e[t]}function firstKey(e){e=Object.keys(e);return 0<e.length?e[0]:null}function firstValue(e){var t=firstKey(e);if(is(t))return e[t]}function last(e,t){return is(t)?t:e}function length(e){return Object.keys(e).length}function isKorean(e){return check=/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/,!!check.test(e)}function getFileExtention(e){return isString(e)?e.split(".").pop():null}function removeFirstLastEnter(e){if(is(e))return(e=e.replace(/^\n/,"")).replace(/\n$/,"")}function trimStartEndEnters(e){if(is(e)){if(isString(e))return e.replace(/^\n+|\n+$/g,"");for(key in e)e[key]=e[key].replace(/^\n+|\n+$/g,"");return e}}function removeFirstLastCharacter(e,t){if(is(e)&&0<e.length)return e.charAt(e.length-1)==t&&(e=e.substring(0,e.length-1)),1<e.length&&(e.charAt(0)==t?e=e.substring(1,e.length):1==e.length&&e.charAt(0)==t&&(e="")),e}function getScriptParams(e){for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n++)if(-1<t[n].src.indexOf("/"+e)){for(var i=t[n].src.split("?").pop().split("&"),o={},s=0;s<i.length;s++){var r=i[s].split("=");o[r[0]]=r[1]}return o}return{}}function findGetParameter(e){for(var t,n=null,i=window.location.search.substr(1).split("&"),o=0;o<i.length;o++)(t=i[o].split("="))[0]===e&&(n=decodeURIComponent(t[1]));return n}function getNavigatorLanguage(){var e=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en";return"ko"==e?"kr":"en"}function fxGetLanguage(){var n,e=["en","kr"],t=window.location.pathname,t=t.substring(t.lastIndexOf("/"));if(isKorean(decodeURIComponent(t)))return"kr";var i=findGetParameter("l");if(is(i)&&(e.forEach(function(e,t){e==i&&(n=i)}),is(n)))return n;if("undefined"!=typeof Storage){var o=localStorage.getItem(g_sLocalKey_Language);if(is(o)&&e.forEach(function(e,t){e==o&&(n=o)}),is(n))return n}t=window.location.hostname.split(".");if("kr"==t[t.length-1]&&"co"==t[t.length-2])return"kr";var s=getNavigatorLanguage();return e.forEach(function(e,t){e==s&&(n=s)}),is(n)?n:"en"}function changeGetParameter(e,t){var n=window.location.search.substr(1);isString(n)&&((n=new URLSearchParams(n)).set(e,t),window.location.search=n.toString())}function changeGetParameters(e){var t=window.location.search.substr(1);if(isString(t)){var n=new URLSearchParams(t);for(key in e)n.set(key,e[key]);window.location.search=n.toString()}}function addGetParameter(e,t){var n=window.location.search.substr(1);isString(n)&&((n=new URLSearchParams(n)).append(e,t),window.location.search=n.toString())}function deleteGetParameter(e){var t=window.location.search.substr(1);isString(t)&&((t=new URLSearchParams(t)).delete(e),isString(t=t.toString())&&0<t.length&&(window.location.search=t))}function downscalImage(s,e,r,l){var a=e.name;const t=new FileReader;t.readAsDataURL(e),t.onload=function(e){const o=new Image;o.src=e.target.result,o.onload=function(){const e=document.createElement("canvas");e.width=r,e.height=l;const t=e.getContext("2d");var n,i=l/r;o.width>o.height?((n=o.height*i)>o.width&&(n=o.width),t.drawImage(o,0,0,n,o.height,0,0,r,l)):((i=o.width*i)>o.height&&(i=o.height),t.drawImage(o,0,0,o.width,i,0,0,r,l)),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(o,s,e){var r=this.toDataURL(s,e).split(",")[1];setTimeout(function(){for(var e=atob(r),t=e.length,n=new Uint8Array(t),i=0;i<t;i++)n[i]=e.charCodeAt(i);o(new Blob([n],{type:s||"image/png"}))})}}),t.canvas.toBlob(function(e){s(new File([e],a,{type:"image/jpeg",lastModified:Date.now()}))},"image/jpeg",1)},t.onerror=function(e){console.log(e)}}}function fxLoadJSON(e,t){var n=!window.XMLHttpRequest&&window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;n.overrideMimeType("application/json"),n.open("GET",e,!0),n.onreadystatechange=function(){4==n.readyState&&"200"==n.status?t(n.responseText):t('{"sorry, can not find data":[{"refresh this page please":".."}]}')},n.send(null)}function fxLoadScript(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,document.body.appendChild(t)}window.ontouchstart=function(e){tapFunctionCalled=touchMoved=!(touchBegan=!0)},window.ontouchmove=function(e){touchMoved=!0},window.ontouchend=function(e){touchBegan=!1,0==touchMoved&&0==tapFunctionCalled&&(tapFunctionCalled=!0,runTapFunctions(e))},window.onclick=function(e){touchBegan?tapFunctionCalled=!1:runTapFunctions(e)};